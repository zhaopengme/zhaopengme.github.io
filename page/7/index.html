<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="http://cdn.zhaopeng.me/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  
    <link href='//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  


<link href="//cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">

<link rel="stylesheet" type="text/css" href="http://cdn.zhaopeng.me/css/main.css?v=0.4.5.2"/>




  <meta name="keywords" content="Hexo,next" />



  <link rel="alternate" href="/atom.xml" title="北冥大鸟" type="application/atom+xml" />



  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />


<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="北冥大鸟">
<meta property="og:url" content="http://zhaopeng.me/page/7/index.html">
<meta property="og:site_name" content="北冥大鸟">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="北冥大鸟">
<meta name="twitter:description">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>



  <title> 北冥大鸟 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">北冥大鸟</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">赵鹏的书院</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
      
        <li class="menu-item menu-item-search">
          <a href="#" class="st-search-show-outputs">
            
              <i class="menu-item-icon fa fa-search icon-next-search"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'KKy7kMLzqcedsP4uzFVg','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/29/duo-ge-web-ye-mian-she-ji-jing-yan--10-zhong-bu-tong-lei-xing-de-yi-dong-ui-she-ji-mo-shi/" itemprop="url">
                  多个WEB页面设计经验-10钟不同类型的移动UI设计模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-29T15:00:02+08:00" content="2013-01-29">
              2013-01-29
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/29/duo-ge-web-ye-mian-she-ji-jing-yan--10-zhong-bu-tong-lei-xing-de-yi-dong-ui-she-ji-mo-shi/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/29/duo-ge-web-ye-mian-she-ji-jing-yan--10-zhong-bu-tong-lei-xing-de-yi-dong-ui-she-ji-mo-shi/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p><span>多个WEB页面设计经验-10钟不同类型的移动UI设计模式</span></p>
<p><img src="http://m1.img.libdd.com/farm4/2013/0125/13/92B0C8C4E54F13EAC289C14FD024DB4988F334845F96D_500_4778.jpg" alt=""><br><br></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/28/duo-ge-web-ye-mian-she-ji-jing-yan---shen-me-shi-she-ji-zhong-de--da-qi/" itemprop="url">
                  多个WEB页面设计经验-什么是设计中的“大气”
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-28T15:00:02+08:00" content="2013-01-28">
              2013-01-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/28/duo-ge-web-ye-mian-she-ji-jing-yan---shen-me-shi-she-ji-zhong-de--da-qi/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/28/duo-ge-web-ye-mian-she-ji-jing-yan---shen-me-shi-she-ji-zhong-de--da-qi/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>多个WEB页面设计经验-什么是设计中的“大气”<br><br></p>
<p><img src="http://m3.img.libdd.com/farm4/2013/0125/13/C769E3D0CB97C97B67ED7A945F855E20A61598C2508A5_482_3107.JPEG" alt=""><br><br></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/28/mo-ming-qi-miao-de-shou-dao-le-tao-bao-wang-wei-gui-fa-bu-shang-pin-de-chu-li/" itemprop="url">
                  莫名其妙的收到了淘宝网违规发布商品的处理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-28T13:02:31+08:00" content="2013-01-28">
              2013-01-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/闲言碎语/" itemprop="url" rel="index">
                    <span itemprop="name">闲言碎语</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/28/mo-ming-qi-miao-de-shou-dao-le-tao-bao-wang-wei-gui-fa-bu-shang-pin-de-chu-li/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/28/mo-ming-qi-miao-de-shou-dao-le-tao-bao-wang-wei-gui-fa-bu-shang-pin-de-chu-li/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>在淘宝买了一个乒乓球网架，也就不关心了其他的了。过会一会，竟然收到了一条淘宝违规发布商品处理的短信通知，你大爷我就根本不卖东西啊！</p>
<p>到淘宝上去详细看看，还发布是个医疗商品，NND，幸好不是啥军火啥东西的。现在都还没明白是个怎么回事，哪里漏洞了啊！</p>
<p><img src="http://m3.img.libdd.com/farm5/2013/0128/13/F47DD58406807FC8BC715490B1ECC5AB8482128EB1A03_500_285.jpg" alt=""><br><br></p>
<p>这样的事情，咋处理呢？</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/27/duo-ge-web-ye-mian-she-ji-jing-yan---yi-dong-duan-app-she-ji-zhi-nan/" itemprop="url">
                  多个WEB页面设计经验-移动端APP设计指南
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-27T15:00:02+08:00" content="2013-01-27">
              2013-01-27
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/27/duo-ge-web-ye-mian-she-ji-jing-yan---yi-dong-duan-app-she-ji-zhi-nan/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/27/duo-ge-web-ye-mian-she-ji-jing-yan---yi-dong-duan-app-she-ji-zhi-nan/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>移动端APP设计指南<br><br></p>
<p><img src="http://m1.img.libdd.com/farm4/2013/0125/13/A51060E4275A8719A54E2C74913D95857426FD2B34EF1_500_3922.jpg" alt=""><br><br></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/26/duo-ge-web-ye-mian-she-ji-jing-yan---dian-ying-hai-bao-feng-ge-ye-mian-she-ji/" itemprop="url">
                  多个WEB页面设计经验-电影海报风格页面设计
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-26T15:00:02+08:00" content="2013-01-26">
              2013-01-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/26/duo-ge-web-ye-mian-she-ji-jing-yan---dian-ying-hai-bao-feng-ge-ye-mian-she-ji/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/26/duo-ge-web-ye-mian-she-ji-jing-yan---dian-ying-hai-bao-feng-ge-ye-mian-she-ji/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>从微博上面收藏的几张设计经验，图比较大，分开发了。</p>
<p>电影海报风格页面设计</p>
<p><img src="http://m3.img.libdd.com/farm4/2013/0125/13/2C623E8F45F7585F59FDAC94B7A3D13DB0D885096D996_500_5735.jpg" alt=""></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/25/cheng-xu-yuan--ni-de-dian-nao-shi-sha-yang-de-a/" itemprop="url">
                  程序员，你的电脑是啥样的啊？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-25T15:00:02+08:00" content="2013-01-25">
              2013-01-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/闲言碎语/" itemprop="url" rel="index">
                    <span itemprop="name">闲言碎语</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/25/cheng-xu-yuan--ni-de-dian-nao-shi-sha-yang-de-a/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/25/cheng-xu-yuan--ni-de-dian-nao-shi-sha-yang-de-a/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>工欲善其事，必先利其器。程序员的工作需要电脑完成，我个人在家用Y450A的本子，已经跑了三年了，像我这样喜欢折腾电脑的人，现在的Y450A一开机就呜呜的喊叫了。在公司用台式机，肯定是比本快的多了。<br><br></p>
<p>家里用xp系统，之前一直用win7 64，现在跑起来有些慢了，还是xp熟悉，就换成了xp，你们的现在用什么配置、什么系统呢？</p>
<p>相信大部分的人还是xp或者win7吧！普通人咱们用win，文艺的用mac，高手们用linux，也不排除某些13也用linux。</p>
<p><span>现在一台4、5K的电脑，基本就能够满足程序员的需要的，CPU没多低的了，内存配置个4G的都很普通（N年前，我们一台512M的，都属于大内存了），硬盘500G都小了，显卡，不做个设计、不玩个游戏，现在的集成显卡普通的都1G了，还能不够你用吗？</span><br><br></p>
<p><span>再让你下次选择一台做开发的电脑，你会选择什么样的？</span></p>
<p><span>这里提醒下，做开发，台式机是最好的，各种的DIY，别选什么品牌的，对一个开发者来说，不值得。</span></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/22/jvm-de-nei-cun-tiao-you/" itemprop="url">
                  jvm的内存调优
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-22T22:15:03+08:00" content="2013-01-22">
              2013-01-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/22/jvm-de-nei-cun-tiao-you/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/22/jvm-de-nei-cun-tiao-you/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p><span><img src="http://m1.img.libdd.com/farm5/2013/0122/22/F2432573DF61E709EAADC14DF9207EB4E3BDFC18DB1D6_500_254.jpg" alt=""><br><br></span></p>
<p><span>1) 堆<br><br><span><br><br></span> &nbsp;&nbsp;&nbsp;运行时数据区域，所有类实例和数组的内存均从此处分配。Java 虚拟机启动时创建。对象的堆内存由称为垃圾回收器 的自动内存管理系统回收。<br><br> 堆由两部分组成:</span></p>
<p><span> &nbsp;&nbsp;&nbsp;其中eden+fromspace+tospace也叫年轻代(young),old space叫旧生代.</span></p>
<p><span> &nbsp;&nbsp;&nbsp;其中还有S1,S0(在JDK的自带工具输出中会看到),分别指的是Survivor space,存放每次垃圾回收后存活的对象.</span></p>
<p><span> &nbsp;&nbsp;&nbsp;Old Generation , 主要存放应用程序中生命周期长的存活对象<br><br>垃圾回收主要是对Young Generation块和Old Generation块内存进行回收，YG用来放新产生的对象，经过几次回收还没回收掉的对象往OG中移动，<br><br>对YG进行垃圾回收又叫做MinorGC，对OG垃圾回收叫MajorGC，两块内存回收互不干涉</span></p>
<p><span>2) <strong><span>非堆内存</span></strong></span></p>
<p> &nbsp;&nbsp;<span>JVM具有一个由所有线程共享的方法区。方法区属于非堆内存。它存储每个类结构，如运行时常数池、字段和方法数据，以及方法和构造方法的代码。它是在 Java 虚拟机启动时创建的。<br><br> &nbsp;&nbsp;&nbsp;除了方法区外，Java 虚拟机实现可能需要用于内部处理或优化的内存，这种内存也是非堆内存。 例如，JIT 编译器需要内存来存储从 Java 虚拟机代码转换而来的本机代码，从而获得高性能。</span><br><br> &nbsp;&nbsp;Permanent Generation &nbsp;&nbsp;（图中的Permanent Space） 存放JVM自己的反射对象，比如类对象和方法对象<br><br>3) 回收算法和过程<br><br> &nbsp;&nbsp;</p>
<p> JVM采用一种分代回收 (generational collection) 的策略，用较高的频率对年轻的对象(young generation)进行扫描和回收，这种叫做minor collection，而对老对象(old generation)的检查回收频率要低很多，称为major collection。这样就不需要每次GC都将内存中所有对象都检查一遍。</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当一个URL被访问时，内存申请过程 如下：<br><br>A. JVM会试图为相关Java对象在Eden中初始化一块内存区域<br><br>B. 当Eden空间足够时，内存申请结束。否则到下一步<br><br>C. JVM试图释放在Eden中所有不活跃的对象（这属于1或更高级的垃圾回收）, 释放后若Eden空间仍然不足以放入新对象，则试图将部分Eden中活跃对象放入Survivor区<br><br>D. Survivor区被用来作为Eden及OLD的中间交换区域，当OLD区空间足够时，Survivor区的对象会被移到Old区，否则会被保留在Survivor区<br><br>E. 当OLD区空间不够时，JVM会在OLD区进行完全的垃圾收集（0级）<br><br>F. 完全垃圾收集后，若Survivor及OLD区仍然无法存放从Eden复制过来的部分对象，导致JVM无法在Eden区为新对象创建内存区域，则出现”out of memory错误”</p>
<p> &nbsp;&nbsp;&nbsp;对象衰老的过程<br><br> &nbsp;&nbsp;&nbsp;young generation的内存，由一块Eden(伊甸园，有意思)和两块Survivor Space(1.4文档中称为semi-space)构成。新创建的对象的内存都分配自eden。两块Survivor Space总有会一块是空闲的，用作copying collection的目标空间。Minor collection的过程就是将eden和在用survivor space中的活对象copy到空闲survivor space中。所谓survivor，也就是大部分对象在伊甸园出生后，根本活不过一次GC。对象在young generation里经历了一定次数的minor collection后，年纪大了，就会被移到old generation中，称为tenuring。(是否仅当survivor space不足的时候才会将老对象tenuring? 目前资料中没有找到描述)<br><br> &nbsp;&nbsp;&nbsp;&nbsp;剩余内存空间不足会触发GC，如eden空间不够了就要进行minor collection，old generation空间不够要进行major collection，permanent generation空间不足会引发full GC。</p>
<p>4 接下来这部分讲解的是TOMCAT或者其他服务器出现如下错误时的分析:</p>
<p> &nbsp;&nbsp;1、首先是：java.lang.OutOfMemoryError: Java heap space</p>
<p>解释：</p>
<p>Heap size 设置</p>
<p>JVM堆的设置是指java程序运行过程中JVM可以调配使用的内存空间的设置.JVM在启动的时候会自动设置Heap size的值，其初始空间(即-Xms)是物理内存的1/64，最大空间(-Xmx)是物理内存的1/4。可以利用JVM提供的-Xmn -Xms -Xmx等选项可进行设置。Heap size 的大小是Young Generation 和Tenured Generaion 之和。<br><br>提示：在JVM中如果98％的时间是用于GC且可用的Heap size 不足2％的时候将抛出此异常信息。<br><br>提示：Heap Size 最大不要超过可用物理内存的80％，一般的要将-Xms和-Xmx选项设置为相同，而-Xmn为1/4的-Xmx值。</p>
<p>解决方法：</p>
<p>手动设置Heap size<br><br>修改TOMCAT_HOME/bin/catalina.bat，在“echo “Using CATALINA_BASE: $CATALINA_BASE””上面加入以下行：<br><br>Java代码<br><br>set JAVA_OPTS=%JAVA_OPTS% -server -Xms800m -Xmx800m -XX:MaxNewSize=256m &nbsp;</p>
<p>set JAVA_OPTS=%JAVA_OPTS% -server -Xms800m -Xmx800m -XX:MaxNewSize=256m</p>
<p>或修改catalina.sh<br><br>在“echo “Using CATALINA_BASE: $CATALINA_BASE””上面加入以下行：<br><br>JAVA_OPTS=”$JAVA_OPTS -server -Xms800m -Xmx800m -XX:MaxNewSize=256m”</p>
<p>2、其次是：java.lang.OutOfMemoryError: PermGen space</p>
<p>原因：</p>
<p>PermGen space的全称是Permanent Generation space,是指内存的永久保存区域，这块内存主要是被JVM存放Class和Meta信息的,Class在被Loader时就会被放到PermGen space中，它和存放类实例(Instance)的Heap区域不同,GC(Garbage Collection)不会在主程序运行期对PermGen space进行清理，所以如果你的应用中有很CLASS的话,就很可能出现PermGen space错误，这种错误常见在web服务器对JSP进行pre compile的时候。如果你的WEB APP下都用了大量的第三方jar, 其大小超过了jvm默认的大小(4M)那么就会产生此错误信息了。</p>
<p>解决方法：</p>
<p>1. 手动设置MaxPermSize大小<br><br>修改TOMCAT_HOME/bin/catalina.bat（Linux下为catalina.sh），在Java代码<br><br>“echo “Using CATALINA_BASE: $CATALINA_BASE””上面加入以下行： &nbsp;&nbsp;<br><br>set JAVA_OPTS=%JAVA_OPTS% -server -XX:PermSize=128M -XX:MaxPermSize=512m &nbsp;</p>
<p>“echo “Using CATALINA_BASE: $CATALINA_BASE””上面加入以下行：<br><br>set JAVA_OPTS=%JAVA_OPTS% -server -XX:PermSize=128M -XX:MaxPermSize=512m</p>
<p>catalina.sh下为：<br><br>Java代码<br><br>JAVA_OPTS=”$JAVA_OPTS -server -XX:PermSize=128M -XX:MaxPermSize=512m”</p>
<p>JAVA_OPTS=”$JAVA_OPTS -server -XX:PermSize=128M -XX:MaxPermSize=512m”</p>
<p><strong><span>JVM的默认设置</span></strong></p>
<p><strong><span>堆</span></strong>（heap）（News Generation 和Old Generaion 之和）的设置</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;初始分配的内存由-Xms指定，默认是物理内存的1/64但小于1G。</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最大分配的内存由-Xmx指定，默认是物理内存的1/4但小于1G。</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;默认空余堆内存小于40%时，JVM就会增大堆直到-Xmx的最大限制，可以由-XX:MinHeapFreeRatio=指定。<br><br>默认空余堆内存大于70%时，JVM会减少堆直到-Xms的最小限制，可以由-XX:MaxHeapFreeRatio=指定。</p>
<p>服务器一般设置-Xms、-Xmx相等以避免在每次GC 后调整堆的大小，所以上面的两个参数没啥用。</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-Xmn 设置young generation的heap大小</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-XX:MinHeapFreeRatio与-XX:MaxHeapFreeRatio设定空闲内存占总内存的比例范围，这两个参数会影响GC的频率和单次GC的耗时。-XX:NewRatio决定young与old generation的比例。Young generation空间越大，minor collection频率越低，但是old generation空间小了，又可能导致major collection频率增加。-XX:NewSize和-XX:MaxNewSize直接指定了young generation的缺省大小和最大大小。</p>
<p><strong><span>非堆内存</span></strong>的设置</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;默认分配为64M</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;-XX:PermSize设置最小分配空间，-XX:MaxPermSize设置最大分配空间。一般把这两个数值设为相同，以减少申请内存空间的时间。</p>
<p>再讲解和笔记下,JDK下的一些相关看内存管理工具的使用:</p>
<p>查看jvm内存状态：<br><br>jstat -gcutil pid 1000 20</p>
<p>异常情况的例子</p>
<p>jstat -gcutil pid 1000 20</p>
<p> S0 &nbsp;&nbsp;&nbsp;&nbsp;S1 &nbsp;&nbsp;&nbsp;&nbsp;E &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P &nbsp;&nbsp;&nbsp;&nbsp;YGC &nbsp;&nbsp;&nbsp;&nbsp;YGCT &nbsp;&nbsp;&nbsp;FGC &nbsp;&nbsp;&nbsp;FGCT &nbsp;&nbsp;&nbsp;&nbsp;GCT<br><br> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;99.99 &nbsp;82.51 &nbsp;53.11 &nbsp;&nbsp;2409 &nbsp;&nbsp;&nbsp;1.205 10117 7250.393 7251.598<br><br> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;83.42 &nbsp;82.55 &nbsp;53.10 &nbsp;&nbsp;2409 &nbsp;&nbsp;&nbsp;1.205 10118 7252.650 7253.855<br><br> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;56.06 &nbsp;82.46 &nbsp;53.10 &nbsp;&nbsp;2410 &nbsp;&nbsp;&nbsp;1.205 10120 7254.467 7255.672<br><br> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;32.11 &nbsp;82.55 &nbsp;53.10 &nbsp;&nbsp;2411 &nbsp;&nbsp;&nbsp;1.205 10121 7256.673 7257.877<br><br> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;99.99 &nbsp;82.55 &nbsp;53.10 &nbsp;&nbsp;2412 &nbsp;&nbsp;&nbsp;1.205 10123 7257.026 7258.231<br><br> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;76.00 &nbsp;82.50 &nbsp;53.10 &nbsp;&nbsp;2412 &nbsp;&nbsp;&nbsp;1.205 10124 7259.241 7260.446<br><br><br><br>这个数据显示Full GC频繁发生。<br><br> 正常情况的例子</p>
<p> &nbsp;S0 &nbsp;&nbsp;&nbsp;&nbsp;S1 &nbsp;&nbsp;&nbsp;&nbsp;E &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P &nbsp;&nbsp;&nbsp;&nbsp;YGC &nbsp;&nbsp;&nbsp;&nbsp;YGCT &nbsp;&nbsp;&nbsp;FGC &nbsp;&nbsp;&nbsp;FGCT &nbsp;&nbsp;&nbsp;&nbsp;GCT</p>
<p> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;&nbsp;0.24 &nbsp;55.39 &nbsp;99.60 &nbsp;&nbsp;&nbsp;171 &nbsp;&nbsp;&nbsp;0.667 &nbsp;1339 &nbsp;393.364 &nbsp;394.031</p>
<p> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;&nbsp;0.24 &nbsp;55.39 &nbsp;99.60 &nbsp;&nbsp;&nbsp;171 &nbsp;&nbsp;&nbsp;0.667 &nbsp;1339 &nbsp;393.364 &nbsp;394.031</p>
<p> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;&nbsp;0.24 &nbsp;55.39 &nbsp;99.60 &nbsp;&nbsp;&nbsp;171 &nbsp;&nbsp;&nbsp;0.667 &nbsp;1339 &nbsp;393.364 &nbsp;394.031</p>
<p> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;&nbsp;0.24 &nbsp;55.39 &nbsp;99.60 &nbsp;&nbsp;&nbsp;171 &nbsp;&nbsp;&nbsp;0.667 &nbsp;1339 &nbsp;393.364 &nbsp;394.031</p>
<p> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;&nbsp;0.24 &nbsp;55.39 &nbsp;99.60 &nbsp;&nbsp;&nbsp;171 &nbsp;&nbsp;&nbsp;0.667 &nbsp;1339 &nbsp;393.364 &nbsp;394.031</p>
<p> &nbsp;0.00 &nbsp;&nbsp;0.00 &nbsp;&nbsp;0.24 &nbsp;55.39 &nbsp;99.60 &nbsp;&nbsp;&nbsp;171 &nbsp;&nbsp;&nbsp;0.667 &nbsp;1339 &nbsp;393.364 &nbsp;394.031<br><br><br><br>参数含义：<br><br>S0：Heap上的 Survivor space 0 段已使用空间的百分比<br><br>S1：Heap上的 Survivor space 1 段已使用空间的百分比<br><br>E： Heap上的 Eden space 段已使用空间的百分比<br><br>O： Heap上的 Old space 段已使用空间的百分比<br><br>P： Perm space 已使用空间的百分比<br><br>YGC：从程序启动到采样时发生Young GC的次数<br><br>YGCT：Young GC所用的时间(单位秒)<br><br>FGC：从程序启动到采样时发生Full GC的次数<br><br>FGCT：Full GC所用的时间(单位秒)<br><br>GCT：用于垃圾回收的总时间(单位秒)<br><br> 2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dump出内存<br><br>2.1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;找出要dump的线程pid</p>
<p><br>在Linux下，使用ps –aux<br><br><br><br>2.2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dump出内存使用详情<br><br>可以通过命令：</p>
<p>jmap -dump:file=a.hprof pid</p>
<p>例如:jmap -heap 2343,可以看到</p>
<p>Attaching to process ID 2343, please wait…<br><br>Debugger attached successfully.<br><br>Server compiler detected.<br><br>JVM version is 11.0-b16</p>
<p>using thread-local object allocation.<br><br>Parallel GC with 8 thread(s)</p>
<p>Heap Configuration:<br><br> &nbsp;&nbsp;MinHeapFreeRatio = 40<br><br> &nbsp;&nbsp;MaxHeapFreeRatio = 70<br><br> &nbsp;&nbsp;MaxHeapSize &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 4294967296 (4096.0MB)<br><br> &nbsp;&nbsp;NewSize &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 2686976 (2.5625MB)<br><br> &nbsp;&nbsp;MaxNewSize &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= -65536 (-0.0625MB)<br><br> &nbsp;&nbsp;OldSize &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 5439488 (5.1875MB)<br><br> &nbsp;&nbsp;NewRatio &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（YG，OG 大小比为1：2）<br><br> &nbsp;&nbsp;SurvivorRatio &nbsp;&nbsp;&nbsp;= 8<br><br> &nbsp;&nbsp;PermSize &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 21757952 (20.75MB)<br><br> &nbsp;&nbsp;MaxPermSize &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 268435456 (256.0MB)</p>
<p>Heap Usage:<br><br>PS Young Generation<br><br>Eden Space:<br><br> &nbsp;&nbsp;capacity = 1260060672 (1201.6875MB)<br><br> &nbsp;&nbsp;used &nbsp;&nbsp;&nbsp;&nbsp;= 64868288 (61.86322021484375MB)<br><br> &nbsp;&nbsp;free &nbsp;&nbsp;&nbsp;&nbsp;= 1195192384 (1139.8242797851562MB)<br><br> &nbsp;&nbsp;5.148028935546367% used<br><br>From Space:<br><br> &nbsp;&nbsp;capacity = 85524480 (81.5625MB)<br><br> &nbsp;&nbsp;used &nbsp;&nbsp;&nbsp;&nbsp;= 59457648 (56.70323181152344MB)<br><br> &nbsp;&nbsp;free &nbsp;&nbsp;&nbsp;&nbsp;= 26066832 (24.859268188476562MB)<br><br> &nbsp;&nbsp;69.52120375359195% used<br><br>To Space:<br><br> &nbsp;&nbsp;capacity = 85852160 (81.875MB)<br><br> &nbsp;&nbsp;used &nbsp;&nbsp;&nbsp;&nbsp;= 0 (0.0MB)<br><br> &nbsp;&nbsp;free &nbsp;&nbsp;&nbsp;&nbsp;= 85852160 (81.875MB)<br><br> &nbsp;&nbsp;0.0% used<br><br><del>~</del><del>~</del><del>~</del><del>~</del><del>~</del>~这三块为上面所说的YG大小和使用情况<br><br>PS Old Generation<br><br> &nbsp;&nbsp;capacity = 2291138560 (2185.0MB)<br><br> &nbsp;&nbsp;used &nbsp;&nbsp;&nbsp;&nbsp;= 1747845928 (1666.8757705688477MB)<br><br> &nbsp;&nbsp;free &nbsp;&nbsp;&nbsp;&nbsp;= 543292632 (518.1242294311523MB)<br><br> &nbsp;&nbsp;76.28722062099989% used<br><br><del>~</del><del>~</del><del>~</del><del>~</del><del>~</del>~OG大小和使用情况<br><br>PS Perm Generation<br><br> &nbsp;&nbsp;capacity = 108265472 (103.25MB)<br><br> &nbsp;&nbsp;used &nbsp;&nbsp;&nbsp;&nbsp;= 107650712 (102.6637191772461MB)<br><br> &nbsp;&nbsp;free &nbsp;&nbsp;&nbsp;&nbsp;= 614760 (0.5862808227539062MB)<br><br> &nbsp;&nbsp;99.43217353728436% used</p>
<p>jstat<br><br>jstat是vm的状态监控工具，监控的内容有类加载、运行时编译及GC。</p>
<p>使用时，需加上查看进程的进程id，和所选参数。以下详细介绍各个参数的意义。<br><br> &nbsp;&nbsp;&nbsp;jstat -class pid:显示加载class的数量，及所占空间等信息。<br><br> &nbsp;&nbsp;&nbsp;jstat -compiler pid:显示VM实时编译的数量等信息。<br><br> &nbsp;&nbsp;&nbsp;jstat -gc pid:可以显示gc的信息，查看gc的次数，及时间。其中最后五项，分别是young gc的次数，young gc的时间，full gc的次数，full gc的时间，gc的总时间。<br><br> &nbsp;&nbsp;&nbsp;jstat -gccapacity:可以显示，VM内存中三代（young,old,perm）对象的使用和占用大小，如：PGCMN显示的是最小perm的内存使用量，PGCMX显示的是perm的内存最大使用量，PGC是当前新生成的perm内存占用量，PC是但前perm内存占用量。其他的可以根据这个类推， OC是old内纯的占用量。<br><br> &nbsp;&nbsp;&nbsp;jstat -gcnew pid:new对象的信息。<br><br> &nbsp;&nbsp;&nbsp;jstat -gcnewcapacity pid:new对象的信息及其占用量。<br><br> &nbsp;&nbsp;&nbsp;jstat -gcold pid:old对象的信息。<br><br> &nbsp;&nbsp;&nbsp;jstat -gcoldcapacity pid:old对象的信息及其占用量。<br><br> &nbsp;&nbsp;&nbsp;jstat -gcpermcapacity pid: perm对象的信息及其占用量。<br><br> &nbsp;&nbsp;&nbsp;jstat -util pid:统计gc信息统计。<br><br> &nbsp;&nbsp;&nbsp;jstat -printcompilation pid:当前VM执行的信息。<br><br> &nbsp;&nbsp;&nbsp;除了以上一个参数外，还可以同时加上 两个数字，如：jstat -printcompilation 3024 250 6是每250毫秒打印一次，一共打印6次，还可以加上-h3每三行显示一下标题。<br><br>例子：</p>
<p>jstat -gcutil pid 1000 20</p>
<p> S0 &nbsp;&nbsp;&nbsp;&nbsp;S1 &nbsp;&nbsp;&nbsp;&nbsp;E &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P &nbsp;&nbsp;&nbsp;&nbsp;YGC &nbsp;&nbsp;&nbsp;&nbsp;YGCT &nbsp;&nbsp;&nbsp;FGC &nbsp;&nbsp;&nbsp;FGCT &nbsp;&nbsp;&nbsp;&nbsp;GCT &nbsp;<br><br> 47.49 &nbsp;&nbsp;0.00 &nbsp;64.82 &nbsp;46.08 &nbsp;47.69 &nbsp;20822 2058.631 &nbsp;&nbsp;&nbsp;68 &nbsp;&nbsp;22.734 2081.365<br><br> &nbsp;0.00 &nbsp;37.91 &nbsp;38.57 &nbsp;46.13 &nbsp;47.69 &nbsp;20823 2058.691 &nbsp;&nbsp;&nbsp;68 &nbsp;&nbsp;22.734 2081.425 &nbsp;这里发生了一次YG GC，也就是MinorGC，耗时0.06s<br><br> 46.69 &nbsp;&nbsp;0.00 &nbsp;15.19 &nbsp;46.18 &nbsp;47.69 &nbsp;20824 2058.776 &nbsp;&nbsp;&nbsp;68 &nbsp;&nbsp;22.734 2081.510<br><br> 46.69 &nbsp;&nbsp;0.00 &nbsp;74.59 &nbsp;46.18 &nbsp;47.69 &nbsp;20824 2058.776 &nbsp;&nbsp;&nbsp;68 &nbsp;&nbsp;22.734 2081.510<br><br> &nbsp;0.00 &nbsp;40.29 &nbsp;19.95 &nbsp;46.24 &nbsp;47.69 &nbsp;20825 2058.848 &nbsp;&nbsp;&nbsp;68 &nbsp;&nbsp;22.734 2081.582</p>
<p>MajorGC平均时间：22.734/68=0.334秒</p>
<p>MinorGC平均时间：2058.691/20823=0.099秒</p>
<p><span>原文地址：</span><a href="http://www.javagg.com/?p=784" target="_blank" rel="external">http://www.javagg.com/?p=784</a><br><br></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/21/gitblit-zhong-wen-yu-yan-bao/" itemprop="url">
                  gitblit 中文语言包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-21T12:40:21+08:00" content="2013-01-21">
              2013-01-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/21/gitblit-zhong-wen-yu-yan-bao/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/21/gitblit-zhong-wen-yu-yan-bao/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>Gitblit 是一个纯 Java 库用来管理、查看和处理 Git 资料库。相当于 Git 的 Java 管理工具。</p>
<p><img src="http://m2.img.libdd.com/farm5/2013/0121/12/74A2B1EFBC79606AD047989C237359297B9FB249D4726_500_330.jpg" alt=""></p>
<p>目前已经发布到了1.2的版本，翻译的时候是按照1.1的版本翻译的，不过1.2的也能用，已经提交给作者了。 在下一个版本应该会一并发布出来，如果想直接使用，直接把文件<code>GitBlitWebApp_zh_CN.properties</code>放到<code>WEB-INFclassescomgitblitwicket</code>路径下面就可以了。</p>
<p>Gitblit使用的wicket框架，应该算是种比较古老的框架吧！研究了一下，与swing开发有些类型，还是很研究的价值的。</p>
<p>下载：<a href="http://code.google.com/p/gitblit/downloads/detail?name=gitblit-1.2.1.war" title="gitblit.war" target="_blank" rel="external">gitblit.war</a> | <a href="http://yunpan.cn/QeSJNixNPDVwz" title="中文包" target="_blank" rel="external">中文包</a></p>
<p>链接： <a href="http://gitblit.com/" title="gitblit官网" target="_blank" rel="external">gitblit官网</a> | <a href="https://github.com/gitblit/gitblit" title="gitblit-github" target="_blank" rel="external">gitblit-github</a></p>
<p>最近github被封了，又是天朝的一个杯具！</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/17/javascript-jin-1-qu-zheng-de-ji-zhong-fang-shi/" itemprop="url">
                  javascript  进1取整的几种方式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-17T15:00:02+08:00" content="2013-01-17">
              2013-01-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/17/javascript-jin-1-qu-zheng-de-ji-zhong-fang-shi/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/17/javascript-jin-1-qu-zheng-de-ji-zhong-fang-shi/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>javascript 进1取整的几种方式</p>
<p>最长见的都是四舍五入，业务中难免也有一些进一去整的要求。<br><br></p>
<p>进一去整，比如2.1 3.5 4.9，进1去整后的结果就是3 4 5.<br><br></p>
<p>方式一<br><br></p>
<pre>var a = 2.0;
var b = 3.4;
var c = 8.9;

function modFoat(v) {
 var _max = parseInt(v) + 1;
 if( _max - v &lt; 1 ) {
  return _max;
 }
 return v;
}

alert(modFoat(a)); // 2
alert(modFoat(b)); // 4
alert(modFoat(c)); // 9
</pre>

<p>方式二<br><br></p>
<pre>var a = 2.0;

function parseNumber(number, splitChar) {
  var n = number + '';
  var s = splitChar == null ? '.' : splitChar;
  var nArr = n.split(s);
  if (nArr.length == 2) {//2.1
     return parseInt(nArr[0]) + 1;
  }
  else {//2.0
  return number;
  }
}

document.write(parseNumber(a));
</pre>

<p>方式三<br><br></p>
<p>这种方式有bug，如果是2.0呢？</p>
<pre>var a = 2.1;
var b = parseInt(a) + 1;  // b will be 3

parseInt是截掉尾数，然后再加一即可。
</pre>

<p>方式四<br><br></p>
<p>最简单的<br><br></p>
<pre>var a = 1.1
var s =  Math.ceil(a);
alert(s);
</pre>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                <a class="post-title-link" href="/2013/1/16/si-ge-luo-shen-cuo-ma-jiang-de-nv-ren/" itemprop="url">
                  四个裸身搓麻将的女人
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2013-01-16T13:55:48+08:00" content="2013-01-16">
              2013-01-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp; 分类于
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/闲言碎语/" itemprop="url" rel="index">
                    <span itemprop="name">闲言碎语</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2013/1/16/si-ge-luo-shen-cuo-ma-jiang-de-nv-ren/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2013/1/16/si-ge-luo-shen-cuo-ma-jiang-de-nv-ren/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>在微刊上面看到的，相当诡异的的图画。没看过的先看看图画，在看解读吧！<br><br></p>
<p><img src="http://m2.img.libdd.com/farm5/2013/0116/13/DABF0581927504F61F14DE648DD719C40CC1016810ED7_500_334.jpg" alt=""><br><br> 《北京，2008》[油画]——作者/刘溢（旅加华裔画家）<br><br></p>
<p><strong>下面的是解读 </strong><br><br></p>
<p>正面下方，背後有纹身的亚裔女子，是中国。<br><br></p>
<p>左手打牌打得聚精会神的，是日本。<br><br></p>
<p>穿着上衣侧头的是美国。<br><br></p>
<p>躺得很淫荡的，是俄罗斯。<br><br></p>
<p>旁边站着的小女孩，则是台湾。<br><br></p>
<p>这幅叫作《北京2008》的油画，<br><br></p>
<p>最近在西方社会以及网路世界引发的口水已经比画家所用的颜料多出千倍。<br><br></p>
<p>画家是刘溢，一个去了加拿大的中国人。<br><br></p>
<p>有意思的是这张图名字叫北京2008，<br><br></p>
<p>画的却是四个女人打麻将，其实隐藏着很深的含义在里面。<br><br></p>
<p>中国碰了「东风」，有两层意思，<br><br></p>
<p>一是中国借了东风再崛起；<br><br></p>
<p>二呢，「东风导弹」是中国已经摆台面上的有力武器<br><br></p>
<p>中国一方面形势好像不错，但不知道其他的牌如何，<br><br></p>
<p>而她又在牌桌下做着小动作。<br><br></p>
<p>美国一副成竹在胸的样子，看着台湾，表情很耐人寻味，<br><br></p>
<p>一方面是想从台湾的表情里读懂些什麽，<br><br></p>
<p>一方面眼神又在给台湾做暗示。<br><br></p>
<p>俄罗斯一副漠不关心的样子，其实不然。<br><br></p>
<p>一边脚勾搭着美国，一边在给中国递牌，<br><br></p>
<p>两国可以说是在暗中互相交换利益。<br><br></p>
<p>日本人一本正经看着自己的那副牌，<br><br></p>
<p>全然不知道别人在做些什麽动作，<br><br></p>
<p>只顾着打着自己的牌。<br><br></p>
<p>台湾身穿红肚兜，意思是中华文明的真正继承者。<br><br></p>
<p>台湾一手拿着水果一手拿着水果刀，</p>
<p>表情阴郁而愤恨的看着中国，<br><br></p>
<p>但没办法，他不入局，无论最终谁胜利，他都只能帮别人切水果。<br><br></p>
<p>窗外河边乌云密布，暗示海峡两岸局势危机，一触即发。<br><br></p>
<p>墙上的挂像也很有意思，孙中山的胡子，蒋介石的光头，毛泽东的长相。<br><br></p>
<p>四个女子的着装，<br><br></p>
<p>中国光着上身，下边一条裙子一条内裤。<br><br></p>
<p>美国一件外套一件内衣，下身却光着。<br><br></p>
<p>俄罗斯只剩一条内裤了。<br><br></p>
<p>日本已经什麽都不剩了。<br><br></p>
<p>道尽各国局势的写照。<br><br></p>
<p>美国衣着看上去最整齐，实力也最强大，<br><br></p>
<p>其他几人均有点衣不蔽体，<br><br></p>
<p>但美国貌似光鲜，但却其实已经暴露了自己的底线，<br><br></p>
<p>而中国和俄罗斯虽然貌似赤裸，但关键阴私却藏住了。<br><br></p>
<p>假设这局牌是赌脱衣服的，谁输了谁脱。<br><br></p>
<p>一局牌打下来，中国输，则沦落到如今俄罗斯的地步（跟苏联解体情况相当）<br><br></p>
<p>美国输，也会沦落到俄罗斯的地步，<br><br></p>
<p>俄罗斯再输，则彻底沦落到一无所有。<br><br></p>
<p>而日本，其实已经一无所有了；<br><br></p>
<p>俄罗斯貌似相公在陪打，其实俄罗斯是在和中国换牌，<br><br></p>
<p>真正陪打的是日本，因为她已经没东西可输了，而且一输就立刻出局。<br><br></p>
<p>总结就是，美国最假正经，看上去最光鲜，但其实危机不小，如果打输这一局，他就得交出霸主的地位。<br><br></p>
<p>俄罗斯两边勾搭，最是阴险狡诈，情况有点类似解放後的中国，一会儿倒向苏联一会儿倒向美国，因为自身实力不济，只能在两边摇摆以求得生存和发展。<br><br></p>
<p>中国的牌有太多看不见，说明中国隐藏了很多实力？而且桌面下又和俄罗斯在换牌，而美国人却只能从台湾的表情上去揣测中国和俄罗斯干了些什麽。<br><br></p>
<p>日本人则一无所知，继续打着自己的牌。<br><br></p>
<p>台湾，冷眼旁观，桌上这些人在搞什麽她都看见了，心里也清楚，可是她没有入局的资格和能力，也没有说话权，心怀不满也无济於事，只能乖乖做丫头，给胜利者献上水果。<br><br></p>
<p>胜利者应该在中国和美国之间产生，这个悬念不大。<br><br></p>
<p>但要看清楚，美国尽管实力强，但她们玩的是中国麻将，不是西方扑克，<br><br></p>
<p>按中国人的规矩玩牌，美国人的胜算又有多少？<br><br></p>
<hr>
<p></p>
<p>《2008，北京》（又名《搓麻将的女人》）<br><br></p>
<p>一副具有影响力的油画，不仅体现了作者高超的艺术表现力，更体现了作者的思想性。上面这幅油画是去年春天在纽约一个画展上展出的油画，它的名字叫做《2008，北京》。这幅画暗示了什么？2008北京，大家自然会想到北京奥运会，但是，从油画所表现的四位游戏者所做的游戏来看，是中国的麻将，而麻将是中国游戏，由此可以肯定地说，油画所表现的主题不是北京奥运会。哪又是什么呢？<br><br></p>
<p>油画的背景是阴云密布下的海滩，实际上是暗示台湾海峡被战争的乌云笼罩。实际上，进入2008，大陆与台海形势紧张，大陆3000枚导弹，瞄准台海。油画的人物，除了画面上明显的五个人之外，在左边墙上还挂着一幅人像，人像的脸廓是毛泽东的，胡子是孙中山的，光头是蒋介石的，三个人的头像混杂在一起，表明了中国大陆和台湾是孙中山、毛泽东、蒋介石遗留下的一个历史问题。<br><br></p>
<p>油画中穿红肚兜的小女孩代表台湾，因为她是代表一个地区，无法与大国的地位相平等。四个打麻将的女子，可以肯定有一位是代表中国大陆的女孩，她的上身的纹身有中国的图腾凤凰，正对着中国大陆的女孩代表的是美国，因为中国与美国给太平洋相望；左边那个全身赤裸的代表日本，右边躺着的则代表俄罗斯。这幅画想表达的是，台海局势如何发展，完全是中美俄日四国在主导，台湾却被排挤在牌局之外，只能等待别人安排它的命运。<br><br></p>
<p>油画的主体是四个打麻将的女子，她们身上衣服的多少代表了实力的强弱。正对大家的女子衣服穿得最多、最整齐，表明美国是四个大国中实力最强的。美国双手抱着头，眼睛望着台湾，对牌局心不在焉的样子，暗示美国自认为胜券在握，对台湾虎视眈眈。右边的俄罗斯一只腿搭在美国身上，另一只手却伸在中国背后，帮助中国偷偷换牌。再看俄罗斯的牌，少了一张，这样的牌根本不能胡，说明俄罗斯对台湾问题完全没兴趣，它明里和美国勾搭，暗中却把武器卖给中国，俄罗斯只是想借台湾问题制约中国和美国。<br><br></p>
<p>中国上半身没穿衣服，下半身的衣服被桌子挡着看不见，暗示大家都看不清楚中国究竟有多少实力。中国的牌中有一个明杠东风，代表中国最具有威慑力的武器是“东风—31”中程导弹，这可是中国大陆对付台湾的杀手锏。中国背后还暗藏着两张牌，表明中国暗中留了一手，让其他人摸不准自己的实力。<br><br></p>
<p>左边的日本全身赤裸，它的实力在这四个国家中是最弱的。它聚精会神地看着自己的牌，却没有察觉牌局中大家的小动作，而且从动作上看，非常兴奋，暗示着台海危机、甚至于台海战争对于日本，形势看好，加入战争一开，两虎相斗，必有一伤，日本坐享其成。这说明日本在台湾问题上关注自己的利益，。虽然从表面上看，日本的牌最好，但真正起决定作用的反而不是牌局本身，日本纯粹是陪太子读书，它在台海局势中完全得不到好处。<br><br></p>
<p>代表中国的女子身上绘着凤凰文身，下身穿的却是带蕾丝的西式内衣。这说明在美国人看来，中国的传统文化只剩下一个外壳，中国本质上正在靠近西方，甚至和西方没什么太大区别，反而是穿着红肚兜的台湾比较完整地保留了中国的传统文化。台湾右手端着一盘水果，左手捏着一把小刀，表示不好意思亮出来，但水果刀，虽不锋利，但可杀人。而大陆回敬的是东风导弹，这前面已有叙述。这暗示台湾基本上不具备反抗能力，但也具有杀伤力。但无论这次牌局是谁胡牌，台湾都得乖乖地敬奉上那盘水果。<br><br></p>
<p>2008年已经过去，陈水扁的台独政策造成的台海紧张形势、乌云密布，已伴随着国民党马英九的上台，而已形势缓和、乌云散去。但作者对台海形势及大国关系的洞察力，引人深思。<br><br></p>
<p>原文没找到，微刊</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/77/">77</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>


 </div>

        

        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/avatar.jpg" alt="赵鹏" itemprop="image"/>
          <p class="site-author-name" itemprop="name">赵鹏</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">766</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">49</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="menu-item-icon icon-next-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhaopengme" target="_blank">
                  <i class="fa fa-github"></i> github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/joypen" target="_blank">
                  <i class="fa fa-weibo"></i> weibo
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
                <a href="http://www.cobmw.com/" target="_blank">记忆碎片</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.itoldme.net/" target="_blank">墙外的梯子</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.versun.org/" target="_blank">versun</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.liangxin.name" target="_blank">心岛博客</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.imf7.com/" target="_blank">付琦的博客</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.itblog.me/" target="_blank">it技术博客</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy;  2008 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">赵鹏</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="http://cdn.zhaopeng.me/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"zhaopengme"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  
  
  <script type="text/javascript" src="http://cdn.zhaopeng.me/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="http://cdn.zhaopeng.me/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="http://cdn.zhaopeng.me/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="http://cdn.zhaopeng.me/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="http://cdn.zhaopeng.me/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="http://cdn.zhaopeng.me/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="http://cdn.zhaopeng.me/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="http://cdn.zhaopeng.me/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="http://cdn.zhaopeng.me/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "http://cdn.zhaopeng.me/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
